<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="generator" content="AsciiDoc 8.5.2">
<title></title>
<title>Directory Types</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../css/layout.css">
<link rel="copyright" href="../copyright.html">
<link rel="icon" type="image/png" href="../img/favicon.png">
<meta name="generator" content="AsciiDoc Website Builder (using AsciiDoc 8.5.2)">
<meta name="author" content="JuanJo Ciarlante">
</head>
<body>
<?insert meta description html?>
<div id="cont">
<div id="nav">
<center><img src="../img/jjo.png" alt="awb logo"></center>
<ul>
<li>
<p><a href="../index.html">Jjo’s Home</a></p>
</li>
<li>
<p><a href="../doc/index.html">Projects</a></p>
<ul>
<li>
<p><a href="http://github.com/jjo/openvpn-ipv6">OpenVPN over IPv6 (feat_ipv6_transport)</a></p>
</li>
<li>
<p><a href="http://juanjosec.blogspot.com/">My blog</a></p>
</li>
<li>
<p><a href="../doc/other.html">Other stuff</a></p>
</li>
</ul>
</li>
</ul>
</div>
<div id="content">
<hr>
<h1><a name="_directory_types"></a>Directory Types</h1>
<p>awb recognises three different directory types, and builds them differently.</p>
<hr>
<h2><a name="_normal"></a>Normal</h2>
<p>In a normal directory, all files ending in “.txt” have the template and subtemplate applied, and are then converted via AsciiDoc into HTML files.</p>
<p>If there is no index.txt file in the directory, one will be created, listing the subdirectories and documents in the directory in alphabetical order.</p>
<hr>
<h2><a name="_blog"></a>Blog</h2>
<p>awb’s blog framework is quite flexible, although for obvious reasons it can’t support reader comments. All you really need to do is to create your blog posts, one per file, using a logical naming structure. The index.html file (showing your most recent posts) and contents.html (listing the titles of all posts, with headings each month) are automatically generated for you.</p>
<p>awb uses the path of a post to determine its date. All the path separators are stripped out, leaving a string of digits which are interpreted as follows:</p>
<ul>
<li>
<p>8 digits: yyyymmdd</p>
</li>
<li>
<p>10 digits: yyyymmddhh</p>
</li>
<li>
<p>12 digits: yyyymmddhhmm</p>
</li>
</ul>
<p>The following paths all produce valid dates.</p>
<table border="0" bgcolor="#E8E8E8" width="100%" cellpadding="10">
<tr>
<td>
<pre>
2007/10/12/13/15.txt
2007/10/121315.txt
2007/1012/1315.txt
200710121315.txt
</pre></td>
</tr>
</table>
<p>This system leaves you with a lot of flexibility as to how deeply you want your directories nested.</p>
<p>The first line of the post file is taken as the title of the post. This title is used in the recent posts list and in contents.html. This is consistent with the AsciiDoc markup that you would normally use.</p>
<p>In addition to this standard blog format, awb also supports a magazine-like blog formatting feature. In this model, a collection of posts belong to a magazine, which has its own “table of contents” post which can be used to summarise and/or introduce the other posts.</p>
<p>You define a magazine-like blog simply by including a post with a .mag.txt extension. Each .mag.txt file is a magazine “table of contents”. All posts earlier than a .mag.txt post (and later than the previous .mag.txt post) belong to that magazine. Posts later than the latest .mag.txt belong to a virtual magazine entitled “News”.</p>
<hr>
<h2><a name="_gallery"></a>Gallery</h2>
<p>When a directory is specified as a gallery, files with the extension .gal.txt are treated specially. Each .gal.txt file is a room in the gallery, and is formatted as shown in the following example:</p>
<table border="0" bgcolor="#E8E8E8" width="100%" cellpadding="10">
<tr>
<td>
<pre>
[room]
title: The title of the room.
intro: Some text introducing the room.

[filename.jpg]
title: The title of the photo.
caption: A caption for the photo.
</pre></td>
</tr>
</table>
<p>When awb encounters a gallery room, it creates a HTML file for each image, using that image’s name. Then it creates a file for the gallery room showing each image in the room. It is up to you to set up templates to point to the appropriate places for each image. For example, I structure my galleries something like this:</p>
<table border="0" bgcolor="#E8E8E8" width="100%" cellpadding="10">
<tr>
<td>
<pre>
siteroot/
    galleries/
        a_gallery/
            a_gallery.gal.txt
            big/
                pic_1.jpg
                pic_2.jpg
            small/
                pic_1.jpg
                pic_2.jpg
</pre></td>
</tr>
</table>
<p>The template for photos in a gallery room adds the ‘small’ directory to the path, and the template for individual photo files adds the ‘big’ directory to the path.</p>
<p>The title, intro and caption values are optional, but if you don’t use them, don’t include them in your templates either.</p>
<p>If you are inserting the meta description tag, the intro is used as the room description, and the caption is used as the photo description.</p>
</div>
<div id="foot">
<p>Last Updated Wednesday, January 26 2011</p>
<p>Copyleft © 20xx JuanJo Ciarlante</p>
</div>
</div>
<hr>
<p><small>Last updated 2011-03-10 10:58:51 CEST</small></p>
</body>
</html>
